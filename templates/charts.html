{% extends "base.html" %}

{% block title %}Charts{% endblock %}

{% block content %}
<h2>Charts</h2>
<p>Welcome to the trade charts.</p>

<div id="tv_chart_container" style="height:400px;"></div>

<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script type="text/javascript">
const symbol = "NASDAQ:AAPL"; // or any symbol
const bought_ts = new Date("2025-12-16T15:33:00");
const sold_ts = new Date("2025-12-16T15:50:00");

new TradingView.widget({
  "container_id": "tv_chart_container",
  "width": "100%",
  "height": 400,
  "symbol": symbol,
  "interval": "1",
  "timezone": "Etc/UTC",
  "theme": "light",
  "style": "1",
  "toolbar_bg": "#f1f3f6",
  "hide_side_toolbar": false,
  "allow_symbol_change": true,
  "details": true,
  "studies": [],
  "overrides": {},
  "watchlist": [],
  "enabled_features": ["study_templates"],
  "onChartReady": function() {
      const chart = this;
      // Add entry/exit markers
      chart.createShape().setProperties({
          time: bought_ts.getTime() / 1000,
          text: "Entry",
          color: "green"
      });
      chart.createShape().setProperties({
          time: sold_ts.getTime() / 1000,
          text: "Exit",
          color: "red"
      });
  }
});
</script>


{% endblock %}
